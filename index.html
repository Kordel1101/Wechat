<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>朋友圈</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#07C160',
                        secondary: '#ECECEC',
                        text: {
                            primary: '#333333',
                            secondary: '#888888',
                            light: '#AAAAAA',
                            link: '#576B95'
                        },
                        background: {
                            primary: '#FFFFFF',
                            secondary: '#F7F7F7',
                            dark: '#EDEDED'
                        }
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .comment-box-shadow {
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            .moment-card {
                @apply bg-white rounded-t-lg overflow-hidden mb-4 shadow-sm;
            }
            .avatar {
                @apply rounded-full overflow-hidden border-2 border-white;
            }
            .name {
                @apply font-medium text-text-primary;
            }
            .content {
                @apply text-text-primary text-sm leading-relaxed mt-1 mb-2;
            }
            .location {
                @apply text-xs text-text-secondary flex items-center mt-1;
            }
            .time {
                @apply text-xs text-text-secondary;
            }
            .actions {
                @apply flex justify-between items-center text-xs text-text-secondary mt-2;
            }
            .like-btn, .comment-btn {
                @apply flex items-center px-2 py-1 rounded hover:bg-background-dark transition-colors duration-200;
            }
            .like-btn.active {
                @apply text-red-500;
            }
            .comments {
                @apply bg-background-secondary mt-2 rounded text-sm;
            }
            .comment {
                @apply px-3 py-2 border-b border-gray-100 last:border-0;
            }
            .comment-name {
                @apply text-text-link font-medium;
            }
            .send-btn {
                @apply px-4 py-2 bg-primary text-white rounded-lg text-sm;
            }
            .nav-btn {
                @apply px-3 py-1.5 rounded-full text-sm transition-all duration-200;
            }
            .nav-btn.active {
                @apply bg-primary/10 text-primary;
            }
            .animate-fadeIn {
                animation: fadeIn 0.3s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        }
    </style>
</head>
<body class="bg-background-secondary font-sans text-text-primary min-h-screen">
    <!-- 导航栏 -->
    <nav class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="https://kordel1101.github.io/KTinfinite/" class="text-text-primary text-sm flex items-center">
                <i class="fa fa-arrow-left mr-1"></i>
                <span>回到INFINTE</span>
            </a>
            <div class="flex space-x-2">
                <button id="role-k" class="nav-btn active">原初k</button>
                <button id="role-cui" class="nav-btn">原初崔</button>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <main class="container mx-auto px-4 pt-16 pb-20">
        <!-- 用户信息 -->
        <div id="user-info" class="relative h-48 mb-4 overflow-hidden rounded-b-lg">
            <img id="cover-image" src="https://imgtu.com/uploads/3gyoqgnd/20250619163000.png" alt="朋友圈封面" class="w-full h-full object-cover">
            <div class="absolute bottom-4 right-4 flex flex-col items-end">
                <img id="user-avatar" src="https://imgtu.com/uploads/37slgi1e/20250619131158.jpg" alt="用户头像" class="w-14 h-14 avatar">
                <p id="user-signature" class="text-white text-xs mt-1 mr-1">核異莊成 與世無真</p>
            </div>
        </div>

        <!-- 发布朋友圈 -->
        <div class="bg-white rounded-lg p-3 mb-4 shadow-sm">
            <div class="flex items-start">
                <img id="post-avatar" src="https://imgtu.com/uploads/37slgi1e/20250619131158.jpg" alt="发布者头像" class="w-10 h-10 avatar mr-3">
                <div class="flex-1">
                    <textarea id="post-content" placeholder="分享新鲜事..." class="w-full border-0 focus:ring-0 text-sm resize-none" rows="3"></textarea>
                    <div class="flex justify-between items-center mt-2">
                        <div class="flex space-x-3">
                            <label for="post-image" class="cursor-pointer text-text-secondary">
                                <i class="fa fa-image mr-1"></i>
                                <span>图片</span>
                            </label>
                            <input id="post-image" type="file" accept="image/*" class="hidden">
                            <label for="post-location" class="cursor-pointer text-text-secondary">
                                <i class="fa fa-map-marker mr-1"></i>
                                <span>位置</span>
                            </label>
                            <input id="post-location" type="text" placeholder="位置" class="hidden">
                        </div>
                        <button id="publish-btn" class="send-btn">发布</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 朋友圈列表 -->
        <div id="moments-list">
            <!-- 极恶k的朋友圈 -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/uk6clwsu/20250614210111.jpg" alt="极恶k头像" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">极恶k</h3>
                            <p class="content">ksjhkajdskjahkkjkkkjkkkkkkk</p>
                            <img src="https://gadzet.pl/wp-content/uploads/2023/07/naklejki-reklamowe-1.jpg" alt="朋友圈图片" class="w-full h-auto rounded">
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">10:30</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>未知</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="1">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>赞</span>
                            </button>
                            <button class="comment-btn" data-id="1">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>评论</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">举报</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="px-3 py-2 text-xs text-red-500">该账号已被多人举报</div>
                    <div class="comment">
                        <span class="comment-name">boss崔</span>: <span class="text-text-primary">恶心，已报警</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">小小崔</span>: <span class="text-text-primary">这是在干嘛呀</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">小小k</span> 回复 <span class="comment-name">小小崔</span>: <span class="text-text-primary">……不要加这样奇怪的人</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">发送</button>
                    </div>
                </div>
            </article>

            <!-- 反骨k的朋友圈 -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <div class="w-10 h-10 avatar mr-3 bg-[#002FA7]"></div>
                        <div class="flex-1">
                            <h3 class="name">反骨k</h3>
                            <p class="content">无序，独我。</p>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">昨天 18:45</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>k崔宇宙外</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="2">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>赞</span>
                            </button>
                            <button class="comment-btn" data-id="2">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>评论</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">举报</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">话唠k</span>: <span class="text-text-primary">滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">发送</button>
                    </div>
                </div>
            </article>

            <!-- boss崔的朋友圈 -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/uk89jbzf/20250614210222.jpg" alt="boss崔头像" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">boss崔</h3>
                            <p class="content">真不知道白毛眼罩太空垃圾有什么值得你们喜欢的，刚清除了第493个宇宙的太空垃圾</p>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">3天前</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>未知</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="3">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>赞</span>
                            </button>
                            <button class="comment-btn" data-id="3">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>评论</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">举报</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">主线k</span>: <span class="text-text-primary">？？</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">海盗k</span>: <span class="text-text-primary">？？</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">小小k</span>: <span class="text-text-primary">？？</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">鬼怪k</span>: <span class="text-text-primary">？？</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">校园k</span>: <span class="text-text-primary">？？</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">反骨k</span>: <span class="text-text-primary">是啊眼罩哥太次等</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">发送</button>
                    </div>
                </div>
            </article>

            <!-- 校园k的朋友圈 -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/3a1vjq6s/20250619140017.png" alt="校园k头像" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">校园k</h3>
                            <p class="content">上次给校园崔送过礼物以后校园崔不理我了，谁可以教教我怎么办啊😢😢。我送的这个非常漂亮的石头，象征我对她的喜欢：</p>
                            <div class="grid grid-cols-2 gap-1 mt-2">
                                <img src="https://imgtu.com/uploads/3a1qekg3/20250619140002.png" alt="朋友圈图片1" class="w-full h-auto rounded">
                                <img src="https://imgtu.com/uploads/3a1tibpa/20250619140009.png" alt="朋友圈图片2" class="w-full h-auto rounded">
                            </div>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">今天 14:05</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>校园</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="4">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>赞</span>
                            </button>
                            <button class="comment-btn" data-id="4">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>评论</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">举报</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">话唠k</span>: <span class="text-text-primary">……我没你这个学生</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">程序员k</span>: <span class="text-text-primary">你没在上面刻字吧，没事老弟，刻一个“情比金坚”，要大红色的，这样才能表达你的意思呀！</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">校园k</span> 回复 <span class="comment-name">程序员k</span>: <span class="text-text-primary">好啊好啊！太感谢55</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">话唠k</span> 回复 <span class="comment-name">程序员k</span>: <span class="text-text-primary">66666我也没你这个学生</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">校园崔</span>: <span class="text-text-primary">你是不是忘了屏蔽我，你还好意思说这个，我一个人搬上五楼</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">校园k</span> 回复 <span class="comment-name">校园崔</span>: <span class="text-text-primary">啊？抱歉抱歉呜呜，下次我帮你搬吧！！</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">话唠k</span>: <span class="text-text-primary">你看这不是理你了吗哈哈哈哈哈哈哈</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">主线崔</span>: <span class="text-text-primary">你无敌</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">发送</button>
                    </div>
                </div>
            </article>

            <!-- 主线崔的朋友圈 -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/pc09qi4v/20250612011544.png" alt="主线崔头像" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">主线崔</h3>
                            <p class="content">。下辈子不学设计了，我也没想到有天我设计的会穿在我身上。</p>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">昨天 21:30</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>工作室</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="5">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>赞</span>
                            </button>
                            <button class="comment-btn" data-id="5">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>评论</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">举报</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">主线k</span>: <span class="text-text-primary">多好看啊，为什么不呢</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">主线崔</span> 回复 <span class="comment-name">主线k</span>: <span class="text-text-primary">滚开。</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">发送</button>
                    </div>
                </div>
            </article>
        </div>

        <!-- 加载更多 -->
        <div id="load-more" class="text-center text-text-secondary text-sm py-4 cursor-pointer">
            <span>加载更多</span>
            <i class="fa fa-angle-down ml-1"></i>
        </div>
    </main>

    <!-- 评论弹窗 -->
    <div id="comment-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-lg w-full max-w-md mx-4 overflow-hidden">
            <div class="p-4 border-b">
                <h3 class="font-medium">发表评论</h3>
            </div>
            <div class="p-4">
                <textarea id="modal-comment" placeholder="说点什么..." class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary resize-none" rows="3"></textarea>
                <div class="flex justify-end mt-3">
                    <button id="cancel-comment" class="px-4 py-2 text-text-secondary mr-2">取消</button>
                    <button id="submit-comment" class="send-btn">发送</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 当前用户角色
            let currentRole = 'k';
            
            // 用户信息配置
            const userConfig = {
                k: {
                    avatar: 'https://imgtu.com/uploads/37slgi1e/20250619131158.jpg',
                    cover: 'https://imgtu.com/uploads/3gyoqgnd/20250619163000.png',
                    signature: '核異莊成 與世無真'
                },
                cui: {
                    avatar: 'https://imgtu.com/uploads/37sj0s6m/20250619131149.jpg',
                    cover: 'https://imgtu.com/uploads/3gn0hm4e/20250619162219.jpg',
                    signature: '既然端杯了，就一饮而尽吧。'
                }
            };
            
            // 随机点赞用户列表
            const likeUsers = ['主线k', '海盗k', '小小崔', '纯恨崔', '作家崔', '校园崔', '校园k', '鬼怪k', '校园k', '程序员k', '话唠k'];
            
            // 朋友圈数据
            const momentData = [
                {
                    id: 1,
                    name: '极恶k',
                    avatar: 'https://imgtu.com/uploads/uk6clwsu/20250614210111.jpg',
                    content: 'ksjhkajdskjahkkjkkkjkkkkkkk',
                    image: 'https://gadzet.pl/wp-content/uploads/2023/07/naklejki-reklamowe-1.jpg',
                    time: '10:30',
                    location: '未知',
                    comments: [
                        {name: 'boss崔', content: '恶心，已报警'},
                        {name: '小小崔', content: '这是在干嘛呀'},
                        {name: '小小k', replyTo: '小小崔', content: '……不要加这样奇怪的人'}
                    ],
                    isReported: true
                },
                {
                    id: 2,
                    name: '反骨k',
                    avatar: '',
                    backgroundColor: '#002FA7',
                    content: '无序，独我。',
                    time: '昨天 18:45',
                    location: 'k崔宇宙外',
                    comments: [
                        {name: '话唠k', content: '滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚滚'}
                    ]
                },
                {
                    id: 3,
                    name: 'boss崔',
                    avatar: 'https://imgtu.com/uploads/uk89jbzf/20250614210222.jpg',
                    content: '真不知道白毛眼罩太空垃圾有什么值得你们喜欢的，刚清除了第493个宇宙的太空垃圾',
                    time: '3天前',
                    location: '未知',
                    comments: [
                        {name: '主线k', content: '？？'},
                        {name: '海盗k', content: '？？'},
                        {name: '小小k', content: '？？'},
                        {name: '鬼怪k', content: '？？'},
                        {name: '校园k', content: '？？'},
                        {name: '反骨k', content: '是啊眼罩哥太次等'}
                    ]
                },
                {
                    id: 4,
                    name: '校园k',
                    avatar: 'https://imgtu.com/uploads/3a1vjq6s/20250619140017.png',
                    content: '上次给校园崔送过礼物以后校园崔不理我了，谁可以教教我怎么办啊😢😢。我送的这个非常漂亮的石头，象征我对她的喜欢：',
                    images: [
                        'https://imgtu.com/uploads/3a1qekg3/20250619140002.png',
                        'https://imgtu.com/uploads/3a1tibpa/20250619140009.png'
                    ],
                    time: '今天 14:05',
                    location: '校园',
                    comments: [
                        {name: '话唠k', content: '……我没你这个学生'},
                        {name: '程序员k', content: '你没在上面刻字吧，没事老弟，刻一个“情比金坚”，要大红色的，这样才能表达你的意思呀！'},
                        {name: '校园k', replyTo: '程序员k', content: '好啊好啊！太感谢55'},
                        {name: '话唠k', replyTo: '程序员k', content: '66666我也没你这个学生'},
                        {name: '校园崔', content: '你是不是忘了屏蔽我，你还好意思说这个，我一个人搬上五楼'},
                        {name: '校园k', replyTo: '校园崔', content: '啊？抱歉抱歉呜呜，下次我帮你搬吧！！'},
                        {name: '话唠k', content: '你看这不是理你了吗哈哈哈哈哈哈哈'},
                        {name: '主线崔', content: '你无敌'}
                    ]
                },
                {
                    id: 5,
                    name: '主线崔',
                    avatar: 'https://imgtu.com/uploads/pc09qi4v/20250612011544.png',
                    content: '。下辈子不学设计了，我也没想到有天我设计的会穿在我身上。',
                    time: '昨天 21:30',
                    location: '工作室',
                    comments: [
                        {name: '主线k', content: '多好看啊，为什么不呢'},
                        {name: '主线崔', replyTo: '主线k', content: '滚开。'}
                    ]
                }
            ];
            
            // 更多朋友圈数据
            const moreMomentData = [
                {
                    id: 6,
                    name: '海盗k',
                    avatar: 'https://imgtu.com/uploads/3a1tibpa/20250619140009.png',
                    content: '今日份战利品：',
                    images: [
                        'https://imgtu.com/uploads/3a1tibpa/20250619140009.png',
                        'https://imgtu.com/uploads/3a1qekg3/20250619140002.png'
                    ],
                    time: '今天 10:20',
                    location: '公海',
                    comments: [
                        {name: 'boss崔', content: '你被捕了'},
                        {name: '海盗k', replyTo: 'boss崔', content: '来抓我啊~'}
                    ]
                },
                {
                    id: 7,
                    name: '作家崔',
                    avatar: 'https://imgtu.com/uploads/3a1vjq6s/20250619140017.png',
                    content: '新书《银河尽头的咖啡馆》已经上架，欢迎大家购买~',
                    image: 'https://imgtu.com/uploads/3a1vjq6s/20250619140017.png',
                    time: '昨天 15:40',
                    location: '书房',
                    comments: [
                        {name: '主线k', content: '恭喜！'},
                        {name: '话唠k', content: '写的什么呀？我看看'},
                        {name: '作家崔', replyTo: '话唠k', content: '你看不懂的'}
                    ]
                }
            ];
            
            // 更新用户信息
            function updateUserInfo() {
                const config = userConfig[currentRole];
                document.getElementById('user-avatar').src = config.avatar;
                document.getElementById('cover-image').src = config.cover;
                document.getElementById('user-signature').textContent = config.signature;
                document.getElementById('post-avatar').src = config.avatar;
            }
            
            // 角色切换
            document.getElementById('role-k').addEventListener('click', function() {
                currentRole = 'k';
                updateUserInfo();
                document.getElementById('role-k').classList.add('active');
                document.getElementById('role-cui').classList.remove('active');
            });
            
            document.getElementById('role-cui').addEventListener('click', function() {
                currentRole = 'cui';
                updateUserInfo();
                document.getElementById('role-k').classList.remove('active');
                document.getElementById('role-cui').classList.add('active');
            });
            
            // 点赞功能
            document.querySelectorAll('.like-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const icon = this.querySelector('i');
                    const text = this.querySelector('span');
                    
                    if (this.classList.contains('active')) {
                        icon.classList.remove('fa-thumbs-o-up');
                        icon.classList.add('fa-thumbs-up');
                        text.textContent = '已赞';
                    } else {
                        icon.classList.remove('fa-thumbs-up');
                        icon.classList.add('fa-thumbs-o-up');
                        text.textContent = '赞';
                    }
                });
            });
            
            // 评论功能
            document.querySelectorAll('.comment-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentInput = this.closest('article').querySelector('.comment-input');
                    commentInput.classList.toggle('hidden');
                });
            });
            
            // 发表评论
            document.querySelectorAll('.comment-input button').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentInput = this.closest('.comment-input').querySelector('input');
                    const commentText = commentInput.value.trim();
                    
                    if (commentText) {
                        const commentSection = this.closest('article').querySelector('.comments');
                        const newComment = document.createElement('div');
                        newComment.className = 'comment';
                        
                        // 获取当前用户名称
                        const userName = currentRole === 'k' ? '原初k' : '原初崔';
                        
                        newComment.innerHTML = `
                            <span class="comment-name">${userName}</span>: 
                            <span class="text-text-primary">${commentText}</span>
                        `;
                        
                        commentSection.appendChild(newComment);
                        commentInput.value = '';
                        this.closest('.comment-input').classList.add('hidden');
                        
                        // 如果是k用户评论，boss崔自动回复
                        if (currentRole === 'k') {
                            setTimeout(() => {
                                const bossReply = document.createElement('div');
                                bossReply.className = 'comment';
                                bossReply.innerHTML = `
                                    <span class="comment-name">boss崔</span>: 
                                    <span class="text-text-primary">你的死期到了</span>
                                `;
                                commentSection.appendChild(bossReply);
                            }, 1000);
                        }
                    }
                });
            });
            
            // 发布朋友圈
            document.getElementById('publish-btn').addEventListener('click', function() {
                const content = document.getElementById('post-content').value.trim();
                const imageInput = document.getElementById('post-image');
                const location = document.getElementById('post-location').value.trim() || '未知';
                
                if (!content && !imageInput.files.length) {
                    alert('请输入内容或选择图片');
                    return;
                }
                
                // 创建新的朋友圈
                const momentsList = document.getElementById('moments-list');
                const newMoment = document.createElement('article');
                newMoment.className = 'moment-card animate-fadeIn';
                
                // 获取当前用户信息
                const userName = currentRole === 'k' ? '原初k' : '原初崔';
                const userAvatar = userConfig[currentRole].avatar;
                
                // 生成随机时间
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const timeStr = `${hours}:${minutes}`;
                
                // 生成随机点赞
                const randomLikesCount = Math.floor(Math.random() * 4) + 1;
                const randomLikes = [];
                for (let i = 0; i < randomLikesCount; i++) {
                    const randomIndex = Math.floor(Math.random() * likeUsers.length);
                    if (!randomLikes.includes(likeUsers[randomIndex])) {
                        randomLikes.push(likeUsers[randomIndex]);
                    }
                }
                
                // 构建朋友圈HTML
                let imageHtml = '';
                if (imageInput.files.length) {
                    // 如果有选择图片，使用第一张图片的临时URL
                    const imageUrl = URL.createObjectURL(imageInput.files[0]);
                    imageHtml = `<img src="${imageUrl}" alt="朋友圈图片" class="w-full h-auto rounded">`;
                }
                
                newMoment.innerHTML = `
                    <div class="p-3">
                        <div class="flex">
                            <img src="${userAvatar}" alt="${userName}头像" class="w-10 h-10 avatar mr-3">
                            <div class="flex-1">
                                <h3 class="name">${userName}</h3>
                                <p class="content">${content}</p>
                                ${imageHtml}
                                <div class="flex justify-between items-center mt-2">
                                    <span class="time">${timeStr}</span>
                                    <span class="location"><i class="fa fa-map-marker mr-1"></i>${location}</span>
                                </div>
                            </div>
                        </div>
                        <div class="actions">
                            <div class="flex space-x-1">
                                <button class="like-btn" data-id="new">
                                    <i class="fa fa-thumbs-o-up mr-1"></i>
                                    <span>赞</span>
                                </button>
                                <button class="comment-btn" data-id="new">
                                    <i class="fa fa-comment-o mr-1"></i>
                                    <span>评论</span>
                                </button>
                            </div>
                            <span class="text-xs text-text-secondary">举报</span>
                        </div>
                    </div>
                    <div class="comments">
                        ${randomLikes.length > 0 ? `
                        <div class="px-3 py-2 text-text-link text-xs">
                            <i class="fa fa-thumbs-up mr-1"></i>
                            ${randomLikes.join('、')}
                        </div>` : ''}
                    </div>
                    <div class="comment-input hidden p-3 border-t border-gray-100">
                        <div class="flex">
                            <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                            <button class="ml-2 text-primary">发送</button>
                        </div>
                    </div>
                `;
                
                // 添加到列表顶部
                momentsList.insertBefore(newMoment, momentsList.firstChild);
                
                // 清空输入
                document.getElementById('post-content').value = '';
                document.getElementById('post-image').value = '';
                document.getElementById('post-location').value = '';
                
                // 为新添加的朋友圈绑定事件
                const newLikeBtn = newMoment.querySelector('.like-btn');
                newLikeBtn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const icon = this.querySelector('i');
                    const text = this.querySelector('span');
                    
                    if (this.classList.contains('active')) {
                        icon.classList.remove('fa-thumbs-o-up');
                        icon.classList.add('fa-thumbs-up');
                        text.textContent = '已赞';
                    } else {
                        icon.classList.remove('fa-thumbs-up');
                        icon.classList.add('fa-thumbs-o-up');
                        text.textContent = '赞';
                    }
                });
                
                const newCommentBtn = newMoment.querySelector('.comment-btn');
                newCommentBtn.addEventListener('click', function() {
                    const commentInput = this.closest('article').querySelector('.comment-input');
                    commentInput.classList.toggle('hidden');
                });
                
                const newCommentSubmitBtn = newMoment.querySelector('.comment-input button');
                newCommentSubmitBtn.addEventListener('click', function() {
                    const commentInput = this.closest('.comment-input').querySelector('input');
                    const commentText = commentInput.value.trim();
                    
                    if (commentText) {
                        const commentSection = this.closest('article').querySelector('.comments');
                        const newComment = document.createElement('div');
                        newComment.className = 'comment';
                        newComment.innerHTML = `
                            <span class="comment-name">${userName}</span>: 
                            <span class="text-text-primary">${commentText}</span>
                        `;
                        
                        commentSection.appendChild(newComment);
                        commentInput.value = '';
                        this.closest('.comment-input').classList.add('hidden');
                        
                        // 如果是k用户评论，boss崔自动回复
                        if (currentRole === 'k') {
                            setTimeout(() => {
                                const bossReply = document.createElement('div');
                                bossReply.className = 'comment';
                                bossReply.innerHTML = `
                                    <span class="comment-name">boss崔</span>: 
                                    <span class="text-text-primary">你的死期到了</span>
                                `;
                                commentSection.appendChild(bossReply);
                            }, 1000);
                        }
                    }
                });
                
                // 添加动画效果
                newMoment.style.opacity = '0';
                newMoment.style.transform = 'translateY(20px)';
                newMoment.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                
                setTimeout(() => {
                    newMoment.style.opacity = '1';
                    newMoment.style.transform = 'translateY(0)';
                }, 10);
            });
            
            // 图片预览功能
            document.getElementById('post-image').addEventListener('change', function(e) {
                if (e.target.files.length) {
                    // 可以在这里添加图片预览功能
                    console.log('Selected image:', e.target.files[0]);
                }
            });
            
            // 加载更多功能
            document.getElementById('load-more').addEventListener('click', function() {
                const loadMoreBtn = this;
                loadMoreBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-1"></i>加载中...';
                
                // 模拟加载延迟
                setTimeout(() => {
                    const momentsList = document.getElementById('moments-list');
                    
                    moreMomentData.forEach(moment => {
                        const momentCard = document.createElement('article');
                        momentCard.className = 'moment-card animate-fadeIn';
                        
                        let avatarHtml = moment.avatar 
                            ? `<img src="${moment.avatar}" alt="${moment.name}头像" class="w-10 h-10 avatar mr-3">`
                            : `<div class="w-10 h-10 avatar mr-3 bg-[${moment.backgroundColor}]"></div>`;
                        
                        let contentHtml = `<p class="content">${moment.content}</p>`;
                        
                        if (moment.image) {
                            contentHtml += `<img src="${moment.image}" alt="朋友圈图片" class="w-full h-auto rounded">`;
                        } else if (moment.images && moment.images.length) {
                            const cols = moment.images.length === 1 ? '1' : '2';
                            let imgGrid = '<div class="grid grid-cols-'+cols+' gap-1 mt-2">';
                            moment.images.forEach(img => {
                                imgGrid += `<img src="${img}" alt="朋友圈图片" class="w-full h-auto rounded">`;
                            });
                            imgGrid += '</div>';
                            contentHtml += imgGrid;
                        }
                        
                        let commentsHtml = '';
                        if (moment.isReported) {
                            commentsHtml += `<div class="px-3 py-2 text-xs text-red-500">该账号已被多人举报</div>`;
                        }
                        
                        if (moment.comments && moment.comments.length) {
                            moment.comments.forEach(comment => {
                                const replyHtml = comment.replyTo 
                                    ? ` 回复 <span class="comment-name">${comment.replyTo}</span>: ` 
                                    : ': ';
                                commentsHtml += `
                                    <div class="comment">
                                        <span class="comment-name">${comment.name}</span>${replyHtml}
                                        <span class="text-text-primary">${comment.content}</span>
                                    </div>
                                `;
                            });
                        }
                        
                        momentCard.innerHTML = `
                            <div class="p-3">
                                <div class="flex">
                                    ${avatarHtml}
                                    <div class="flex-1">
                                        <h3 class="name">${moment.name}</h3>
                                        ${contentHtml}
                                        <div class="flex justify-between items-center mt-2">
                                            <span class="time">${moment.time}</span>
                                            <span class="location"><i class="fa fa-map-marker mr-1"></i>${moment.location}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="actions">
                                    <div class="flex space-x-1">
                                        <button class="like-btn" data-id="${moment.id}">
                                            <i class="fa fa-thumbs-o-up mr-1"></i>
                                            <span>赞</span>
                                        </button>
                                        <button class="comment-btn" data-id="${moment.id}">
                                            <i class="fa fa-comment-o mr-1"></i>
                                            <span>评论</span>
                                        </button>
                                    </div>
                                    <span class="text-xs text-text-secondary">举报</span>
                                </div>
                            </div>
                            <div class="comments">
                                ${commentsHtml}
                            </div>
                            <div class="comment-input hidden p-3 border-t border-gray-100">
                                <div class="flex">
                                    <input type="text" placeholder="发表评论..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                                    <button class="ml-2 text-primary">发送</button>
                                </div>
                            </div>
                        `;
                        
                        momentsList.appendChild(momentCard);
                        
                        // 为新添加的朋友圈绑定事件
                        const likeBtn = momentCard.querySelector('.like-btn');
                        likeBtn.addEventListener('click', function() {
                            this.classList.toggle('active');
                            const icon = this.querySelector('i');
                            const text = this.querySelector('span');
                            
                            if (this.classList.contains('active')) {
                                icon.classList.remove('fa-thumbs-o-up');
                                icon.classList.add('fa-thumbs-up');
                                text.textContent = '已赞';
                            } else {
                                icon.classList.remove('fa-thumbs-up');
                                icon.classList.add('fa-thumbs-o-up');
                                text.textContent = '赞';
                            }
                        });
                        
                        const commentBtn = momentCard.querySelector('.comment-btn');
                        commentBtn.addEventListener('click', function() {
                            const commentInput = this.closest('article').querySelector('.comment-input');
                            commentInput.classList.toggle('hidden');
                        });
                        
                        const commentSubmitBtn = momentCard.querySelector('.comment-input button');
                        commentSubmitBtn.addEventListener('click', function() {
                            const commentInput = this.closest('.comment-input').querySelector('input');
                            const commentText = commentInput.value.trim();
                            
                            if (commentText) {
                                const commentSection = this.closest('article').querySelector('.comments');
                                const newComment = document.createElement('div');
                                newComment.className = 'comment';
                                
                                // 获取当前用户名称
                                const userName = currentRole === 'k' ? '原初k' : '原初崔';
                                
                                newComment.innerHTML = `
                                    <span class="comment-name">${userName}</span>: 
                                    <span class="text-text-primary">${commentText}</span>
                                `;
                                
                                commentSection.appendChild(newComment);
                                commentInput.value = '';
                                this.closest('.comment-input').classList.add('hidden');
                                
                                // 如果是k用户评论，boss崔自动回复
                                if (currentRole === 'k') {
                                    setTimeout(() => {
                                        const bossReply = document.createElement('div');
                                        bossReply.className = 'comment';
                                        bossReply.innerHTML = `
                                            <span class="comment-name">boss崔</span>: 
                                            <span class="text-text-primary">你的死期到了</span>
                                        `;
                                        commentSection.appendChild(bossReply);
                                    }, 1000);
                                }
                            }
                        });
                    });
                    
                    // 隐藏加载更多按钮
                    loadMoreBtn.style.display = 'none';
                }, 1000);
            });
            
            // 初始化用户信息
            updateUserInfo();
        });
    </script>
</body>
</html>
    