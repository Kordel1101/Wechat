<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ‹å‹åœˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#07C160',
                        secondary: '#ECECEC',
                        text: {
                            primary: '#333333',
                            secondary: '#888888',
                            light: '#AAAAAA',
                            link: '#576B95'
                        },
                        background: {
                            primary: '#FFFFFF',
                            secondary: '#F7F7F7',
                            dark: '#EDEDED'
                        }
                    },
                    fontFamily: {
                        sans: ['-apple-system', 'BlinkMacSystemFont', 'Helvetica Neue', 'PingFang SC', 'Microsoft YaHei', 'Source Han Sans SC', 'Noto Sans CJK SC', 'WenQuanYi Micro Hei', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .comment-box-shadow {
                box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            }
            .moment-card {
                @apply bg-white rounded-t-lg overflow-hidden mb-4 shadow-sm;
            }
            .avatar {
                @apply rounded-full overflow-hidden border-2 border-white;
            }
            .name {
                @apply font-medium text-text-primary;
            }
            .content {
                @apply text-text-primary text-sm leading-relaxed mt-1 mb-2;
            }
            .location {
                @apply text-xs text-text-secondary flex items-center mt-1;
            }
            .time {
                @apply text-xs text-text-secondary;
            }
            .actions {
                @apply flex justify-between items-center text-xs text-text-secondary mt-2;
            }
            .like-btn, .comment-btn {
                @apply flex items-center px-2 py-1 rounded hover:bg-background-dark transition-colors duration-200;
            }
            .like-btn.active {
                @apply text-red-500;
            }
            .comments {
                @apply bg-background-secondary mt-2 rounded text-sm;
            }
            .comment {
                @apply px-3 py-2 border-b border-gray-100 last:border-0;
            }
            .comment-name {
                @apply text-text-link font-medium;
            }
            .send-btn {
                @apply px-4 py-2 bg-primary text-white rounded-lg text-sm;
            }
            .nav-btn {
                @apply px-3 py-1.5 rounded-full text-sm transition-all duration-200;
            }
            .nav-btn.active {
                @apply bg-primary/10 text-primary;
            }
            .animate-fadeIn {
                animation: fadeIn 0.3s ease-in-out;
            }
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        }
    </style>
</head>
<body class="bg-background-secondary font-sans text-text-primary min-h-screen">
    <!-- å¯¼èˆªæ  -->
    <nav class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="https://kordel1101.github.io/KTinfinite/" class="text-text-primary text-sm flex items-center">
                <i class="fa fa-arrow-left mr-1"></i>
                <span>å›åˆ°INFINTE</span>
            </a>
            <div class="flex space-x-2">
                <button id="role-k" class="nav-btn active">åŸåˆk</button>
                <button id="role-cui" class="nav-btn">åŸåˆå´”</button>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="container mx-auto px-4 pt-16 pb-20">
        <!-- ç”¨æˆ·ä¿¡æ¯ -->
        <div id="user-info" class="relative h-48 mb-4 overflow-hidden rounded-b-lg">
            <img id="cover-image" src="https://imgtu.com/uploads/3gyoqgnd/20250619163000.png" alt="æœ‹å‹åœˆå°é¢" class="w-full h-full object-cover">
            <div class="absolute bottom-4 right-4 flex flex-col items-end">
                <img id="user-avatar" src="https://imgtu.com/uploads/37slgi1e/20250619131158.jpg" alt="ç”¨æˆ·å¤´åƒ" class="w-14 h-14 avatar">
                <p id="user-signature" class="text-white text-xs mt-1 mr-1">æ ¸ç•°èŠæˆ èˆ‡ä¸–ç„¡çœŸ</p>
            </div>
        </div>

        <!-- å‘å¸ƒæœ‹å‹åœˆ -->
        <div class="bg-white rounded-lg p-3 mb-4 shadow-sm">
            <div class="flex items-start">
                <img id="post-avatar" src="https://imgtu.com/uploads/37slgi1e/20250619131158.jpg" alt="å‘å¸ƒè€…å¤´åƒ" class="w-10 h-10 avatar mr-3">
                <div class="flex-1">
                    <textarea id="post-content" placeholder="åˆ†äº«æ–°é²œäº‹..." class="w-full border-0 focus:ring-0 text-sm resize-none" rows="3"></textarea>
                    <div class="flex justify-between items-center mt-2">
                        <div class="flex space-x-3">
                            <label for="post-image" class="cursor-pointer text-text-secondary">
                                <i class="fa fa-image mr-1"></i>
                                <span>å›¾ç‰‡</span>
                            </label>
                            <input id="post-image" type="file" accept="image/*" class="hidden">
                            <label for="post-location" class="cursor-pointer text-text-secondary">
                                <i class="fa fa-map-marker mr-1"></i>
                                <span>ä½ç½®</span>
                            </label>
                            <input id="post-location" type="text" placeholder="ä½ç½®" class="hidden">
                        </div>
                        <button id="publish-btn" class="send-btn">å‘å¸ƒ</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- æœ‹å‹åœˆåˆ—è¡¨ -->
        <div id="moments-list">
            <!-- ææ¶kçš„æœ‹å‹åœˆ -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/uk6clwsu/20250614210111.jpg" alt="ææ¶kå¤´åƒ" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">ææ¶k</h3>
                            <p class="content">ksjhkajdskjahkkjkkkjkkkkkkk</p>
                            <img src="https://gadzet.pl/wp-content/uploads/2023/07/naklejki-reklamowe-1.jpg" alt="æœ‹å‹åœˆå›¾ç‰‡" class="w-full h-auto rounded">
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">10:30</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>æœªçŸ¥</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="1">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>èµ</span>
                            </button>
                            <button class="comment-btn" data-id="1">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>è¯„è®º</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="px-3 py-2 text-xs text-red-500">è¯¥è´¦å·å·²è¢«å¤šäººä¸¾æŠ¥</div>
                    <div class="comment">
                        <span class="comment-name">bosså´”</span>: <span class="text-text-primary">æ¶å¿ƒï¼Œå·²æŠ¥è­¦</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">å°å°å´”</span>: <span class="text-text-primary">è¿™æ˜¯åœ¨å¹²å˜›å‘€</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">å°å°k</span> å›å¤ <span class="comment-name">å°å°å´”</span>: <span class="text-text-primary">â€¦â€¦ä¸è¦åŠ è¿™æ ·å¥‡æ€ªçš„äºº</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">å‘é€</button>
                    </div>
                </div>
            </article>

            <!-- åéª¨kçš„æœ‹å‹åœˆ -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <div class="w-10 h-10 avatar mr-3 bg-[#002FA7]"></div>
                        <div class="flex-1">
                            <h3 class="name">åéª¨k</h3>
                            <p class="content">æ— åºï¼Œç‹¬æˆ‘ã€‚</p>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">æ˜¨å¤© 18:45</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>kå´”å®‡å®™å¤–</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="2">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>èµ</span>
                            </button>
                            <button class="comment-btn" data-id="2">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>è¯„è®º</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">è¯å” k</span>: <span class="text-text-primary">æ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»š</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">å‘é€</button>
                    </div>
                </div>
            </article>

            <!-- bosså´”çš„æœ‹å‹åœˆ -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/uk89jbzf/20250614210222.jpg" alt="bosså´”å¤´åƒ" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">bosså´”</h3>
                            <p class="content">çœŸä¸çŸ¥é“ç™½æ¯›çœ¼ç½©å¤ªç©ºåƒåœ¾æœ‰ä»€ä¹ˆå€¼å¾—ä½ ä»¬å–œæ¬¢çš„ï¼Œåˆšæ¸…é™¤äº†ç¬¬493ä¸ªå®‡å®™çš„å¤ªç©ºåƒåœ¾</p>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">3å¤©å‰</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>æœªçŸ¥</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="3">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>èµ</span>
                            </button>
                            <button class="comment-btn" data-id="3">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>è¯„è®º</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">ä¸»çº¿k</span>: <span class="text-text-primary">ï¼Ÿï¼Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">æµ·ç›—k</span>: <span class="text-text-primary">ï¼Ÿï¼Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">å°å°k</span>: <span class="text-text-primary">ï¼Ÿï¼Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">é¬¼æ€ªk</span>: <span class="text-text-primary">ï¼Ÿï¼Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">æ ¡å›­k</span>: <span class="text-text-primary">ï¼Ÿï¼Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">åéª¨k</span>: <span class="text-text-primary">æ˜¯å•Šçœ¼ç½©å“¥å¤ªæ¬¡ç­‰</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">å‘é€</button>
                    </div>
                </div>
            </article>

            <!-- æ ¡å›­kçš„æœ‹å‹åœˆ -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/3a1vjq6s/20250619140017.png" alt="æ ¡å›­kå¤´åƒ" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">æ ¡å›­k</h3>
                            <p class="content">ä¸Šæ¬¡ç»™æ ¡å›­å´”é€è¿‡ç¤¼ç‰©ä»¥åæ ¡å›­å´”ä¸ç†æˆ‘äº†ï¼Œè°å¯ä»¥æ•™æ•™æˆ‘æ€ä¹ˆåŠå•ŠğŸ˜¢ğŸ˜¢ã€‚æˆ‘é€çš„è¿™ä¸ªéå¸¸æ¼‚äº®çš„çŸ³å¤´ï¼Œè±¡å¾æˆ‘å¯¹å¥¹çš„å–œæ¬¢ï¼š</p>
                            <div class="grid grid-cols-2 gap-1 mt-2">
                                <img src="https://imgtu.com/uploads/3a1qekg3/20250619140002.png" alt="æœ‹å‹åœˆå›¾ç‰‡1" class="w-full h-auto rounded">
                                <img src="https://imgtu.com/uploads/3a1tibpa/20250619140009.png" alt="æœ‹å‹åœˆå›¾ç‰‡2" class="w-full h-auto rounded">
                            </div>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">ä»Šå¤© 14:05</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>æ ¡å›­</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="4">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>èµ</span>
                            </button>
                            <button class="comment-btn" data-id="4">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>è¯„è®º</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">è¯å” k</span>: <span class="text-text-primary">â€¦â€¦æˆ‘æ²¡ä½ è¿™ä¸ªå­¦ç”Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">ç¨‹åºå‘˜k</span>: <span class="text-text-primary">ä½ æ²¡åœ¨ä¸Šé¢åˆ»å­—å§ï¼Œæ²¡äº‹è€å¼Ÿï¼Œåˆ»ä¸€ä¸ªâ€œæƒ…æ¯”é‡‘åšâ€ï¼Œè¦å¤§çº¢è‰²çš„ï¼Œè¿™æ ·æ‰èƒ½è¡¨è¾¾ä½ çš„æ„æ€å‘€ï¼</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">æ ¡å›­k</span> å›å¤ <span class="comment-name">ç¨‹åºå‘˜k</span>: <span class="text-text-primary">å¥½å•Šå¥½å•Šï¼å¤ªæ„Ÿè°¢55</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">è¯å” k</span> å›å¤ <span class="comment-name">ç¨‹åºå‘˜k</span>: <span class="text-text-primary">66666æˆ‘ä¹Ÿæ²¡ä½ è¿™ä¸ªå­¦ç”Ÿ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">æ ¡å›­å´”</span>: <span class="text-text-primary">ä½ æ˜¯ä¸æ˜¯å¿˜äº†å±è”½æˆ‘ï¼Œä½ è¿˜å¥½æ„æ€è¯´è¿™ä¸ªï¼Œæˆ‘ä¸€ä¸ªäººæ¬ä¸Šäº”æ¥¼</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">æ ¡å›­k</span> å›å¤ <span class="comment-name">æ ¡å›­å´”</span>: <span class="text-text-primary">å•Šï¼ŸæŠ±æ­‰æŠ±æ­‰å‘œå‘œï¼Œä¸‹æ¬¡æˆ‘å¸®ä½ æ¬å§ï¼ï¼</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">è¯å” k</span>: <span class="text-text-primary">ä½ çœ‹è¿™ä¸æ˜¯ç†ä½ äº†å—å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">ä¸»çº¿å´”</span>: <span class="text-text-primary">ä½ æ— æ•Œ</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">å‘é€</button>
                    </div>
                </div>
            </article>

            <!-- ä¸»çº¿å´”çš„æœ‹å‹åœˆ -->
            <article class="moment-card">
                <div class="p-3">
                    <div class="flex">
                        <img src="https://imgtu.com/uploads/pc09qi4v/20250612011544.png" alt="ä¸»çº¿å´”å¤´åƒ" class="w-10 h-10 avatar mr-3">
                        <div class="flex-1">
                            <h3 class="name">ä¸»çº¿å´”</h3>
                            <p class="content">ã€‚ä¸‹è¾ˆå­ä¸å­¦è®¾è®¡äº†ï¼Œæˆ‘ä¹Ÿæ²¡æƒ³åˆ°æœ‰å¤©æˆ‘è®¾è®¡çš„ä¼šç©¿åœ¨æˆ‘èº«ä¸Šã€‚</p>
                            <div class="flex justify-between items-center mt-2">
                                <span class="time">æ˜¨å¤© 21:30</span>
                                <span class="location"><i class="fa fa-map-marker mr-1"></i>å·¥ä½œå®¤</span>
                            </div>
                        </div>
                    </div>
                    <div class="actions">
                        <div class="flex space-x-1">
                            <button class="like-btn" data-id="5">
                                <i class="fa fa-thumbs-o-up mr-1"></i>
                                <span>èµ</span>
                            </button>
                            <button class="comment-btn" data-id="5">
                                <i class="fa fa-comment-o mr-1"></i>
                                <span>è¯„è®º</span>
                            </button>
                        </div>
                        <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                    </div>
                </div>
                <div class="comments">
                    <div class="comment">
                        <span class="comment-name">ä¸»çº¿k</span>: <span class="text-text-primary">å¤šå¥½çœ‹å•Šï¼Œä¸ºä»€ä¹ˆä¸å‘¢</span>
                    </div>
                    <div class="comment">
                        <span class="comment-name">ä¸»çº¿å´”</span> å›å¤ <span class="comment-name">ä¸»çº¿k</span>: <span class="text-text-primary">æ»šå¼€ã€‚</span>
                    </div>
                </div>
                <div class="comment-input hidden p-3 border-t border-gray-100">
                    <div class="flex">
                        <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                        <button class="ml-2 text-primary">å‘é€</button>
                    </div>
                </div>
            </article>
        </div>

        <!-- åŠ è½½æ›´å¤š -->
        <div id="load-more" class="text-center text-text-secondary text-sm py-4 cursor-pointer">
            <span>åŠ è½½æ›´å¤š</span>
            <i class="fa fa-angle-down ml-1"></i>
        </div>
    </main>

    <!-- è¯„è®ºå¼¹çª— -->
    <div id="comment-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-lg w-full max-w-md mx-4 overflow-hidden">
            <div class="p-4 border-b">
                <h3 class="font-medium">å‘è¡¨è¯„è®º</h3>
            </div>
            <div class="p-4">
                <textarea id="modal-comment" placeholder="è¯´ç‚¹ä»€ä¹ˆ..." class="w-full border rounded-md p-2 text-sm focus:outline-none focus:ring-1 focus:ring-primary resize-none" rows="3"></textarea>
                <div class="flex justify-end mt-3">
                    <button id="cancel-comment" class="px-4 py-2 text-text-secondary mr-2">å–æ¶ˆ</button>
                    <button id="submit-comment" class="send-btn">å‘é€</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // å½“å‰ç”¨æˆ·è§’è‰²
            let currentRole = 'k';
            
            // ç”¨æˆ·ä¿¡æ¯é…ç½®
            const userConfig = {
                k: {
                    avatar: 'https://imgtu.com/uploads/37slgi1e/20250619131158.jpg',
                    cover: 'https://imgtu.com/uploads/3gyoqgnd/20250619163000.png',
                    signature: 'æ ¸ç•°èŠæˆ èˆ‡ä¸–ç„¡çœŸ'
                },
                cui: {
                    avatar: 'https://imgtu.com/uploads/37sj0s6m/20250619131149.jpg',
                    cover: 'https://imgtu.com/uploads/3gn0hm4e/20250619162219.jpg',
                    signature: 'æ—¢ç„¶ç«¯æ¯äº†ï¼Œå°±ä¸€é¥®è€Œå°½å§ã€‚'
                }
            };
            
            // éšæœºç‚¹èµç”¨æˆ·åˆ—è¡¨
            const likeUsers = ['ä¸»çº¿k', 'æµ·ç›—k', 'å°å°å´”', 'çº¯æ¨å´”', 'ä½œå®¶å´”', 'æ ¡å›­å´”', 'æ ¡å›­k', 'é¬¼æ€ªk', 'æ ¡å›­k', 'ç¨‹åºå‘˜k', 'è¯å” k'];
            
            // æœ‹å‹åœˆæ•°æ®
            const momentData = [
                {
                    id: 1,
                    name: 'ææ¶k',
                    avatar: 'https://imgtu.com/uploads/uk6clwsu/20250614210111.jpg',
                    content: 'ksjhkajdskjahkkjkkkjkkkkkkk',
                    image: 'https://gadzet.pl/wp-content/uploads/2023/07/naklejki-reklamowe-1.jpg',
                    time: '10:30',
                    location: 'æœªçŸ¥',
                    comments: [
                        {name: 'bosså´”', content: 'æ¶å¿ƒï¼Œå·²æŠ¥è­¦'},
                        {name: 'å°å°å´”', content: 'è¿™æ˜¯åœ¨å¹²å˜›å‘€'},
                        {name: 'å°å°k', replyTo: 'å°å°å´”', content: 'â€¦â€¦ä¸è¦åŠ è¿™æ ·å¥‡æ€ªçš„äºº'}
                    ],
                    isReported: true
                },
                {
                    id: 2,
                    name: 'åéª¨k',
                    avatar: '',
                    backgroundColor: '#002FA7',
                    content: 'æ— åºï¼Œç‹¬æˆ‘ã€‚',
                    time: 'æ˜¨å¤© 18:45',
                    location: 'kå´”å®‡å®™å¤–',
                    comments: [
                        {name: 'è¯å” k', content: 'æ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»šæ»š'}
                    ]
                },
                {
                    id: 3,
                    name: 'bosså´”',
                    avatar: 'https://imgtu.com/uploads/uk89jbzf/20250614210222.jpg',
                    content: 'çœŸä¸çŸ¥é“ç™½æ¯›çœ¼ç½©å¤ªç©ºåƒåœ¾æœ‰ä»€ä¹ˆå€¼å¾—ä½ ä»¬å–œæ¬¢çš„ï¼Œåˆšæ¸…é™¤äº†ç¬¬493ä¸ªå®‡å®™çš„å¤ªç©ºåƒåœ¾',
                    time: '3å¤©å‰',
                    location: 'æœªçŸ¥',
                    comments: [
                        {name: 'ä¸»çº¿k', content: 'ï¼Ÿï¼Ÿ'},
                        {name: 'æµ·ç›—k', content: 'ï¼Ÿï¼Ÿ'},
                        {name: 'å°å°k', content: 'ï¼Ÿï¼Ÿ'},
                        {name: 'é¬¼æ€ªk', content: 'ï¼Ÿï¼Ÿ'},
                        {name: 'æ ¡å›­k', content: 'ï¼Ÿï¼Ÿ'},
                        {name: 'åéª¨k', content: 'æ˜¯å•Šçœ¼ç½©å“¥å¤ªæ¬¡ç­‰'}
                    ]
                },
                {
                    id: 4,
                    name: 'æ ¡å›­k',
                    avatar: 'https://imgtu.com/uploads/3a1vjq6s/20250619140017.png',
                    content: 'ä¸Šæ¬¡ç»™æ ¡å›­å´”é€è¿‡ç¤¼ç‰©ä»¥åæ ¡å›­å´”ä¸ç†æˆ‘äº†ï¼Œè°å¯ä»¥æ•™æ•™æˆ‘æ€ä¹ˆåŠå•ŠğŸ˜¢ğŸ˜¢ã€‚æˆ‘é€çš„è¿™ä¸ªéå¸¸æ¼‚äº®çš„çŸ³å¤´ï¼Œè±¡å¾æˆ‘å¯¹å¥¹çš„å–œæ¬¢ï¼š',
                    images: [
                        'https://imgtu.com/uploads/3a1qekg3/20250619140002.png',
                        'https://imgtu.com/uploads/3a1tibpa/20250619140009.png'
                    ],
                    time: 'ä»Šå¤© 14:05',
                    location: 'æ ¡å›­',
                    comments: [
                        {name: 'è¯å” k', content: 'â€¦â€¦æˆ‘æ²¡ä½ è¿™ä¸ªå­¦ç”Ÿ'},
                        {name: 'ç¨‹åºå‘˜k', content: 'ä½ æ²¡åœ¨ä¸Šé¢åˆ»å­—å§ï¼Œæ²¡äº‹è€å¼Ÿï¼Œåˆ»ä¸€ä¸ªâ€œæƒ…æ¯”é‡‘åšâ€ï¼Œè¦å¤§çº¢è‰²çš„ï¼Œè¿™æ ·æ‰èƒ½è¡¨è¾¾ä½ çš„æ„æ€å‘€ï¼'},
                        {name: 'æ ¡å›­k', replyTo: 'ç¨‹åºå‘˜k', content: 'å¥½å•Šå¥½å•Šï¼å¤ªæ„Ÿè°¢55'},
                        {name: 'è¯å” k', replyTo: 'ç¨‹åºå‘˜k', content: '66666æˆ‘ä¹Ÿæ²¡ä½ è¿™ä¸ªå­¦ç”Ÿ'},
                        {name: 'æ ¡å›­å´”', content: 'ä½ æ˜¯ä¸æ˜¯å¿˜äº†å±è”½æˆ‘ï¼Œä½ è¿˜å¥½æ„æ€è¯´è¿™ä¸ªï¼Œæˆ‘ä¸€ä¸ªäººæ¬ä¸Šäº”æ¥¼'},
                        {name: 'æ ¡å›­k', replyTo: 'æ ¡å›­å´”', content: 'å•Šï¼ŸæŠ±æ­‰æŠ±æ­‰å‘œå‘œï¼Œä¸‹æ¬¡æˆ‘å¸®ä½ æ¬å§ï¼ï¼'},
                        {name: 'è¯å” k', content: 'ä½ çœ‹è¿™ä¸æ˜¯ç†ä½ äº†å—å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ'},
                        {name: 'ä¸»çº¿å´”', content: 'ä½ æ— æ•Œ'}
                    ]
                },
                {
                    id: 5,
                    name: 'ä¸»çº¿å´”',
                    avatar: 'https://imgtu.com/uploads/pc09qi4v/20250612011544.png',
                    content: 'ã€‚ä¸‹è¾ˆå­ä¸å­¦è®¾è®¡äº†ï¼Œæˆ‘ä¹Ÿæ²¡æƒ³åˆ°æœ‰å¤©æˆ‘è®¾è®¡çš„ä¼šç©¿åœ¨æˆ‘èº«ä¸Šã€‚',
                    time: 'æ˜¨å¤© 21:30',
                    location: 'å·¥ä½œå®¤',
                    comments: [
                        {name: 'ä¸»çº¿k', content: 'å¤šå¥½çœ‹å•Šï¼Œä¸ºä»€ä¹ˆä¸å‘¢'},
                        {name: 'ä¸»çº¿å´”', replyTo: 'ä¸»çº¿k', content: 'æ»šå¼€ã€‚'}
                    ]
                }
            ];
            
            // æ›´å¤šæœ‹å‹åœˆæ•°æ®
            const moreMomentData = [
                {
                    id: 6,
                    name: 'æµ·ç›—k',
                    avatar: 'https://imgtu.com/uploads/3a1tibpa/20250619140009.png',
                    content: 'ä»Šæ—¥ä»½æˆ˜åˆ©å“ï¼š',
                    images: [
                        'https://imgtu.com/uploads/3a1tibpa/20250619140009.png',
                        'https://imgtu.com/uploads/3a1qekg3/20250619140002.png'
                    ],
                    time: 'ä»Šå¤© 10:20',
                    location: 'å…¬æµ·',
                    comments: [
                        {name: 'bosså´”', content: 'ä½ è¢«æ•äº†'},
                        {name: 'æµ·ç›—k', replyTo: 'bosså´”', content: 'æ¥æŠ“æˆ‘å•Š~'}
                    ]
                },
                {
                    id: 7,
                    name: 'ä½œå®¶å´”',
                    avatar: 'https://imgtu.com/uploads/3a1vjq6s/20250619140017.png',
                    content: 'æ–°ä¹¦ã€Šé“¶æ²³å°½å¤´çš„å’–å•¡é¦†ã€‹å·²ç»ä¸Šæ¶ï¼Œæ¬¢è¿å¤§å®¶è´­ä¹°~',
                    image: 'https://imgtu.com/uploads/3a1vjq6s/20250619140017.png',
                    time: 'æ˜¨å¤© 15:40',
                    location: 'ä¹¦æˆ¿',
                    comments: [
                        {name: 'ä¸»çº¿k', content: 'æ­å–œï¼'},
                        {name: 'è¯å” k', content: 'å†™çš„ä»€ä¹ˆå‘€ï¼Ÿæˆ‘çœ‹çœ‹'},
                        {name: 'ä½œå®¶å´”', replyTo: 'è¯å” k', content: 'ä½ çœ‹ä¸æ‡‚çš„'}
                    ]
                }
            ];
            
            // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
            function updateUserInfo() {
                const config = userConfig[currentRole];
                document.getElementById('user-avatar').src = config.avatar;
                document.getElementById('cover-image').src = config.cover;
                document.getElementById('user-signature').textContent = config.signature;
                document.getElementById('post-avatar').src = config.avatar;
            }
            
            // è§’è‰²åˆ‡æ¢
            document.getElementById('role-k').addEventListener('click', function() {
                currentRole = 'k';
                updateUserInfo();
                document.getElementById('role-k').classList.add('active');
                document.getElementById('role-cui').classList.remove('active');
            });
            
            document.getElementById('role-cui').addEventListener('click', function() {
                currentRole = 'cui';
                updateUserInfo();
                document.getElementById('role-k').classList.remove('active');
                document.getElementById('role-cui').classList.add('active');
            });
            
            // ç‚¹èµåŠŸèƒ½
            document.querySelectorAll('.like-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const icon = this.querySelector('i');
                    const text = this.querySelector('span');
                    
                    if (this.classList.contains('active')) {
                        icon.classList.remove('fa-thumbs-o-up');
                        icon.classList.add('fa-thumbs-up');
                        text.textContent = 'å·²èµ';
                    } else {
                        icon.classList.remove('fa-thumbs-up');
                        icon.classList.add('fa-thumbs-o-up');
                        text.textContent = 'èµ';
                    }
                });
            });
            
            // è¯„è®ºåŠŸèƒ½
            document.querySelectorAll('.comment-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentInput = this.closest('article').querySelector('.comment-input');
                    commentInput.classList.toggle('hidden');
                });
            });
            
            // å‘è¡¨è¯„è®º
            document.querySelectorAll('.comment-input button').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentInput = this.closest('.comment-input').querySelector('input');
                    const commentText = commentInput.value.trim();
                    
                    if (commentText) {
                        const commentSection = this.closest('article').querySelector('.comments');
                        const newComment = document.createElement('div');
                        newComment.className = 'comment';
                        
                        // è·å–å½“å‰ç”¨æˆ·åç§°
                        const userName = currentRole === 'k' ? 'åŸåˆk' : 'åŸåˆå´”';
                        
                        newComment.innerHTML = `
                            <span class="comment-name">${userName}</span>: 
                            <span class="text-text-primary">${commentText}</span>
                        `;
                        
                        commentSection.appendChild(newComment);
                        commentInput.value = '';
                        this.closest('.comment-input').classList.add('hidden');
                        
                        // å¦‚æœæ˜¯kç”¨æˆ·è¯„è®ºï¼Œbosså´”è‡ªåŠ¨å›å¤
                        if (currentRole === 'k') {
                            setTimeout(() => {
                                const bossReply = document.createElement('div');
                                bossReply.className = 'comment';
                                bossReply.innerHTML = `
                                    <span class="comment-name">bosså´”</span>: 
                                    <span class="text-text-primary">ä½ çš„æ­»æœŸåˆ°äº†</span>
                                `;
                                commentSection.appendChild(bossReply);
                            }, 1000);
                        }
                    }
                });
            });
            
            // å‘å¸ƒæœ‹å‹åœˆ
            document.getElementById('publish-btn').addEventListener('click', function() {
                const content = document.getElementById('post-content').value.trim();
                const imageInput = document.getElementById('post-image');
                const location = document.getElementById('post-location').value.trim() || 'æœªçŸ¥';
                
                if (!content && !imageInput.files.length) {
                    alert('è¯·è¾“å…¥å†…å®¹æˆ–é€‰æ‹©å›¾ç‰‡');
                    return;
                }
                
                // åˆ›å»ºæ–°çš„æœ‹å‹åœˆ
                const momentsList = document.getElementById('moments-list');
                const newMoment = document.createElement('article');
                newMoment.className = 'moment-card animate-fadeIn';
                
                // è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
                const userName = currentRole === 'k' ? 'åŸåˆk' : 'åŸåˆå´”';
                const userAvatar = userConfig[currentRole].avatar;
                
                // ç”Ÿæˆéšæœºæ—¶é—´
                const now = new Date();
                const hours = now.getHours().toString().padStart(2, '0');
                const minutes = now.getMinutes().toString().padStart(2, '0');
                const timeStr = `${hours}:${minutes}`;
                
                // ç”Ÿæˆéšæœºç‚¹èµ
                const randomLikesCount = Math.floor(Math.random() * 4) + 1;
                const randomLikes = [];
                for (let i = 0; i < randomLikesCount; i++) {
                    const randomIndex = Math.floor(Math.random() * likeUsers.length);
                    if (!randomLikes.includes(likeUsers[randomIndex])) {
                        randomLikes.push(likeUsers[randomIndex]);
                    }
                }
                
                // æ„å»ºæœ‹å‹åœˆHTML
                let imageHtml = '';
                if (imageInput.files.length) {
                    // å¦‚æœæœ‰é€‰æ‹©å›¾ç‰‡ï¼Œä½¿ç”¨ç¬¬ä¸€å¼ å›¾ç‰‡çš„ä¸´æ—¶URL
                    const imageUrl = URL.createObjectURL(imageInput.files[0]);
                    imageHtml = `<img src="${imageUrl}" alt="æœ‹å‹åœˆå›¾ç‰‡" class="w-full h-auto rounded">`;
                }
                
                newMoment.innerHTML = `
                    <div class="p-3">
                        <div class="flex">
                            <img src="${userAvatar}" alt="${userName}å¤´åƒ" class="w-10 h-10 avatar mr-3">
                            <div class="flex-1">
                                <h3 class="name">${userName}</h3>
                                <p class="content">${content}</p>
                                ${imageHtml}
                                <div class="flex justify-between items-center mt-2">
                                    <span class="time">${timeStr}</span>
                                    <span class="location"><i class="fa fa-map-marker mr-1"></i>${location}</span>
                                </div>
                            </div>
                        </div>
                        <div class="actions">
                            <div class="flex space-x-1">
                                <button class="like-btn" data-id="new">
                                    <i class="fa fa-thumbs-o-up mr-1"></i>
                                    <span>èµ</span>
                                </button>
                                <button class="comment-btn" data-id="new">
                                    <i class="fa fa-comment-o mr-1"></i>
                                    <span>è¯„è®º</span>
                                </button>
                            </div>
                            <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                        </div>
                    </div>
                    <div class="comments">
                        ${randomLikes.length > 0 ? `
                        <div class="px-3 py-2 text-text-link text-xs">
                            <i class="fa fa-thumbs-up mr-1"></i>
                            ${randomLikes.join('ã€')}
                        </div>` : ''}
                    </div>
                    <div class="comment-input hidden p-3 border-t border-gray-100">
                        <div class="flex">
                            <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                            <button class="ml-2 text-primary">å‘é€</button>
                        </div>
                    </div>
                `;
                
                // æ·»åŠ åˆ°åˆ—è¡¨é¡¶éƒ¨
                momentsList.insertBefore(newMoment, momentsList.firstChild);
                
                // æ¸…ç©ºè¾“å…¥
                document.getElementById('post-content').value = '';
                document.getElementById('post-image').value = '';
                document.getElementById('post-location').value = '';
                
                // ä¸ºæ–°æ·»åŠ çš„æœ‹å‹åœˆç»‘å®šäº‹ä»¶
                const newLikeBtn = newMoment.querySelector('.like-btn');
                newLikeBtn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const icon = this.querySelector('i');
                    const text = this.querySelector('span');
                    
                    if (this.classList.contains('active')) {
                        icon.classList.remove('fa-thumbs-o-up');
                        icon.classList.add('fa-thumbs-up');
                        text.textContent = 'å·²èµ';
                    } else {
                        icon.classList.remove('fa-thumbs-up');
                        icon.classList.add('fa-thumbs-o-up');
                        text.textContent = 'èµ';
                    }
                });
                
                const newCommentBtn = newMoment.querySelector('.comment-btn');
                newCommentBtn.addEventListener('click', function() {
                    const commentInput = this.closest('article').querySelector('.comment-input');
                    commentInput.classList.toggle('hidden');
                });
                
                const newCommentSubmitBtn = newMoment.querySelector('.comment-input button');
                newCommentSubmitBtn.addEventListener('click', function() {
                    const commentInput = this.closest('.comment-input').querySelector('input');
                    const commentText = commentInput.value.trim();
                    
                    if (commentText) {
                        const commentSection = this.closest('article').querySelector('.comments');
                        const newComment = document.createElement('div');
                        newComment.className = 'comment';
                        newComment.innerHTML = `
                            <span class="comment-name">${userName}</span>: 
                            <span class="text-text-primary">${commentText}</span>
                        `;
                        
                        commentSection.appendChild(newComment);
                        commentInput.value = '';
                        this.closest('.comment-input').classList.add('hidden');
                        
                        // å¦‚æœæ˜¯kç”¨æˆ·è¯„è®ºï¼Œbosså´”è‡ªåŠ¨å›å¤
                        if (currentRole === 'k') {
                            setTimeout(() => {
                                const bossReply = document.createElement('div');
                                bossReply.className = 'comment';
                                bossReply.innerHTML = `
                                    <span class="comment-name">bosså´”</span>: 
                                    <span class="text-text-primary">ä½ çš„æ­»æœŸåˆ°äº†</span>
                                `;
                                commentSection.appendChild(bossReply);
                            }, 1000);
                        }
                    }
                });
                
                // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                newMoment.style.opacity = '0';
                newMoment.style.transform = 'translateY(20px)';
                newMoment.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                
                setTimeout(() => {
                    newMoment.style.opacity = '1';
                    newMoment.style.transform = 'translateY(0)';
                }, 10);
            });
            
            // å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
            document.getElementById('post-image').addEventListener('change', function(e) {
                if (e.target.files.length) {
                    // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
                    console.log('Selected image:', e.target.files[0]);
                }
            });
            
            // åŠ è½½æ›´å¤šåŠŸèƒ½
            document.getElementById('load-more').addEventListener('click', function() {
                const loadMoreBtn = this;
                loadMoreBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-1"></i>åŠ è½½ä¸­...';
                
                // æ¨¡æ‹ŸåŠ è½½å»¶è¿Ÿ
                setTimeout(() => {
                    const momentsList = document.getElementById('moments-list');
                    
                    moreMomentData.forEach(moment => {
                        const momentCard = document.createElement('article');
                        momentCard.className = 'moment-card animate-fadeIn';
                        
                        let avatarHtml = moment.avatar 
                            ? `<img src="${moment.avatar}" alt="${moment.name}å¤´åƒ" class="w-10 h-10 avatar mr-3">`
                            : `<div class="w-10 h-10 avatar mr-3 bg-[${moment.backgroundColor}]"></div>`;
                        
                        let contentHtml = `<p class="content">${moment.content}</p>`;
                        
                        if (moment.image) {
                            contentHtml += `<img src="${moment.image}" alt="æœ‹å‹åœˆå›¾ç‰‡" class="w-full h-auto rounded">`;
                        } else if (moment.images && moment.images.length) {
                            const cols = moment.images.length === 1 ? '1' : '2';
                            let imgGrid = '<div class="grid grid-cols-'+cols+' gap-1 mt-2">';
                            moment.images.forEach(img => {
                                imgGrid += `<img src="${img}" alt="æœ‹å‹åœˆå›¾ç‰‡" class="w-full h-auto rounded">`;
                            });
                            imgGrid += '</div>';
                            contentHtml += imgGrid;
                        }
                        
                        let commentsHtml = '';
                        if (moment.isReported) {
                            commentsHtml += `<div class="px-3 py-2 text-xs text-red-500">è¯¥è´¦å·å·²è¢«å¤šäººä¸¾æŠ¥</div>`;
                        }
                        
                        if (moment.comments && moment.comments.length) {
                            moment.comments.forEach(comment => {
                                const replyHtml = comment.replyTo 
                                    ? ` å›å¤ <span class="comment-name">${comment.replyTo}</span>: ` 
                                    : ': ';
                                commentsHtml += `
                                    <div class="comment">
                                        <span class="comment-name">${comment.name}</span>${replyHtml}
                                        <span class="text-text-primary">${comment.content}</span>
                                    </div>
                                `;
                            });
                        }
                        
                        momentCard.innerHTML = `
                            <div class="p-3">
                                <div class="flex">
                                    ${avatarHtml}
                                    <div class="flex-1">
                                        <h3 class="name">${moment.name}</h3>
                                        ${contentHtml}
                                        <div class="flex justify-between items-center mt-2">
                                            <span class="time">${moment.time}</span>
                                            <span class="location"><i class="fa fa-map-marker mr-1"></i>${moment.location}</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="actions">
                                    <div class="flex space-x-1">
                                        <button class="like-btn" data-id="${moment.id}">
                                            <i class="fa fa-thumbs-o-up mr-1"></i>
                                            <span>èµ</span>
                                        </button>
                                        <button class="comment-btn" data-id="${moment.id}">
                                            <i class="fa fa-comment-o mr-1"></i>
                                            <span>è¯„è®º</span>
                                        </button>
                                    </div>
                                    <span class="text-xs text-text-secondary">ä¸¾æŠ¥</span>
                                </div>
                            </div>
                            <div class="comments">
                                ${commentsHtml}
                            </div>
                            <div class="comment-input hidden p-3 border-t border-gray-100">
                                <div class="flex">
                                    <input type="text" placeholder="å‘è¡¨è¯„è®º..." class="flex-1 rounded-full bg-background-secondary px-3 py-2 text-sm focus:outline-none">
                                    <button class="ml-2 text-primary">å‘é€</button>
                                </div>
                            </div>
                        `;
                        
                        momentsList.appendChild(momentCard);
                        
                        // ä¸ºæ–°æ·»åŠ çš„æœ‹å‹åœˆç»‘å®šäº‹ä»¶
                        const likeBtn = momentCard.querySelector('.like-btn');
                        likeBtn.addEventListener('click', function() {
                            this.classList.toggle('active');
                            const icon = this.querySelector('i');
                            const text = this.querySelector('span');
                            
                            if (this.classList.contains('active')) {
                                icon.classList.remove('fa-thumbs-o-up');
                                icon.classList.add('fa-thumbs-up');
                                text.textContent = 'å·²èµ';
                            } else {
                                icon.classList.remove('fa-thumbs-up');
                                icon.classList.add('fa-thumbs-o-up');
                                text.textContent = 'èµ';
                            }
                        });
                        
                        const commentBtn = momentCard.querySelector('.comment-btn');
                        commentBtn.addEventListener('click', function() {
                            const commentInput = this.closest('article').querySelector('.comment-input');
                            commentInput.classList.toggle('hidden');
                        });
                        
                        const commentSubmitBtn = momentCard.querySelector('.comment-input button');
                        commentSubmitBtn.addEventListener('click', function() {
                            const commentInput = this.closest('.comment-input').querySelector('input');
                            const commentText = commentInput.value.trim();
                            
                            if (commentText) {
                                const commentSection = this.closest('article').querySelector('.comments');
                                const newComment = document.createElement('div');
                                newComment.className = 'comment';
                                
                                // è·å–å½“å‰ç”¨æˆ·åç§°
                                const userName = currentRole === 'k' ? 'åŸåˆk' : 'åŸåˆå´”';
                                
                                newComment.innerHTML = `
                                    <span class="comment-name">${userName}</span>: 
                                    <span class="text-text-primary">${commentText}</span>
                                `;
                                
                                commentSection.appendChild(newComment);
                                commentInput.value = '';
                                this.closest('.comment-input').classList.add('hidden');
                                
                                // å¦‚æœæ˜¯kç”¨æˆ·è¯„è®ºï¼Œbosså´”è‡ªåŠ¨å›å¤
                                if (currentRole === 'k') {
                                    setTimeout(() => {
                                        const bossReply = document.createElement('div');
                                        bossReply.className = 'comment';
                                        bossReply.innerHTML = `
                                            <span class="comment-name">bosså´”</span>: 
                                            <span class="text-text-primary">ä½ çš„æ­»æœŸåˆ°äº†</span>
                                        `;
                                        commentSection.appendChild(bossReply);
                                    }, 1000);
                                }
                            }
                        });
                    });
                    
                    // éšè—åŠ è½½æ›´å¤šæŒ‰é’®
                    loadMoreBtn.style.display = 'none';
                }, 1000);
            });
            
            // åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯
            updateUserInfo();
        });
    </script>
</body>
</html>
    